/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/link/verify': {
    /** Verifies a magic link secret and swaps it for an authentication token if valid. */
    post: operations['verifyMagicLink']
  }
  '/link/email': {
    /** Creates a magic link and send to the email address entered by the user. */
    post: operations['createMagicLink']
  }
  '/barcode': {
    post: operations['createBarcode']
  }
  '/barcode/check': {
    post: operations['checkBarcode']
  }
}

export interface components {
  schemas: {
    VerifyLinkRequest: {
      /** The secret to verify */
      secret: string
    }
    AuthenticationError: {
      code: string
      userMessage: string
    }
    CheckBarcodeErrorCodes: components['schemas']['ErrorCode'] & {
      code?: 'DUPLICATE' | 'EXPIRED' | 'RANDOM_CHECK'
      userMessage?: string
    } & (
        | components['schemas']['Duplicate']
        | components['schemas']['Expired']
        | components['schemas']['RandomCheck']
      ) & {
        code: unknown
        userMessage: unknown
      }
    DownstreamError: {
      code: string
      userMessage: string
    }
    Duplicate: {
      /** The time that the original barcode was scanned */
      scannedDate: string
      /** The prison where the original barcode was scanned */
      scannedLocation: string
      /** The organisation that created the barcode in the first place */
      createdBy: string
      code: string
      userMessage: string
    }
    EmailInvalid: {
      code: string
      userMessage: string
    }
    EmailInvalidCjsm: {
      code: string
      userMessage: string
    }
    EmailMandatory: {
      code: string
      userMessage: string
    }
    EmailTooLong: {
      code: string
      userMessage: string
    }
    /** The error code describing the error */
    ErrorCode: {
      /** The error code */
      code: string
      /** A human readable description of the error */
      userMessage: string
    }
    ErrorResponse: {
      /** The HTTP status code */
      status: number
      errorCode: components['schemas']['ErrorCode']
    }
    Expired: {
      /** The time the barcode was created */
      createdDate: string
      /** The number of days before a barcode expires */
      barcodeExpiryDays: number
      /** The organisation that created the barcode in the first place */
      createdBy: string
      code: string
      userMessage: string
    }
    InternalError: {
      code: string
      userMessage: string
    }
    MagicLinkRequestErrorCodes: components['schemas']['ErrorCode'] & {
      code?: 'EMAIL_MANDATORY' | 'EMAIL_TOO_LONG' | 'INVALID_EMAIL' | 'INVALID_CJSM_EMAIL'
      userMessage?: string
    } & (
        | components['schemas']['EmailMandatory']
        | components['schemas']['EmailTooLong']
        | components['schemas']['EmailInvalid']
        | components['schemas']['EmailInvalidCjsm']
      ) & {
        code: unknown
        userMessage: unknown
      }
    MalformedRequest: {
      code: string
      userMessage: string
    }
    NotFound: {
      code: string
      userMessage: string
    }
    RandomCheck: {
      /** The organisation that created the barcode in the first place */
      createdBy: string
      code: string
      userMessage: string
    }
    StandardErrorCodes: components['schemas']['ErrorCode'] & {
      code?: 'AUTH' | 'DOWNSTREAM' | 'INTERNAL_ERROR' | 'MALFORMED_REQUEST' | 'NOT_FOUND'
      userMessage?: string
    } & (
        | components['schemas']['AuthenticationError']
        | components['schemas']['DownstreamError']
        | components['schemas']['InternalError']
        | components['schemas']['MalformedRequest']
        | components['schemas']['NotFound']
      ) & {
        code: unknown
        userMessage: unknown
      }
    VerifyLinkResponse: {
      /** The JWT */
      token: string
    }
    MagicLinkRequest: {
      /** The email address to send the magic link to */
      email: string
    }
    CheckBarcodeRequest: {
      /** The barcode being checked */
      barcode: string
    }
    CheckBarcodeResponse: {
      /** The organisation that created the barcode */
      createdBy: string
    }
    Link: {
      href?: string
      hreflang?: string
      title?: string
      type?: string
      deprecation?: string
      profile?: string
      name?: string
      templated?: boolean
    }
    Links: { [key: string]: components['schemas']['Link'] }
  }
}

export interface operations {
  /** Verifies a magic link secret and swaps it for an authentication token if valid. */
  verifyMagicLink: {
    responses: {
      /** Authentication token created */
      201: {
        content: {
          'application/json': components['schemas']['VerifyLinkResponse']
        }
      }
      /** Unauthorised, requires a valid Oauth2 token */
      401: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
      /** Not found, unable to verify the magic link */
      404: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
    }
    requestBody: {
      content: {
        'application/json': components['schemas']['VerifyLinkRequest']
      }
    }
  }
  /** Creates a magic link and send to the email address entered by the user. */
  createMagicLink: {
    responses: {
      /** Magic link created */
      201: {
        content: {
          'application/json': unknown
        }
      }
      /** Bad request. For specific errors see the Schema for MagicLinkRequestErrorCodes */
      400: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
      /** Unauthorised, requires a valid Oauth2 token */
      401: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
    }
    requestBody: {
      content: {
        'application/json': components['schemas']['MagicLinkRequest']
      }
    }
  }
  createBarcode: {
    responses: {
      /** Barcode created */
      201: {
        content: {
          'application/json': string
        }
      }
      /** Bad request */
      400: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
      /** Unauthorised, requires a valid magic link token */
      401: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
    }
  }
  checkBarcode: {
    responses: {
      /** Barcode is OK and no further checks are required */
      200: {
        content: {
          'application/json': components['schemas']['CheckBarcodeResponse']
        }
      }
      /** Bad request. For specific errors see the Schema for CheckBarcodeErrorCodes */
      400: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
      /** Unauthorised, requires a valid magic link token */
      401: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
      /** Not found */
      404: {
        content: {
          'application/json': components['schemas']['ErrorResponse']
        }
      }
    }
    requestBody: {
      content: {
        'application/json': components['schemas']['CheckBarcodeRequest']
      }
    }
  }
}
